# YouTube Video Downloader v2.1.4 - ExportaÃ§Ã£o de Dados

ğŸ¬ **Aplicativo desktop modular em Python para baixar vÃ­deos do YouTube com interface grÃ¡fica moderna e arquitetura robusta.**

> **VersÃ£o 2.1.4**: Funcionalidade de exportaÃ§Ã£o de dados implementada - exporte seu histÃ³rico em CSV e PDF com filtros avanÃ§ados.

## âœ¨ Funcionalidades

### ğŸ¯ Core Features
- **Interface grÃ¡fica intuitiva** usando Tkinter com design moderno
- **Download de vÃ­deos do YouTube** em mÃºltiplas resoluÃ§Ãµes (360p atÃ© 4K)
- **Download apenas de Ã¡udio** em formato MP3 com mÃºltiplas qualidades (128-320 kbps)
- **ğŸµ Download de playlists completas** com progresso individual por vÃ­deo
- **Mini-player de preview** com thumbnail, metadados e botÃ£o de preview no navegador
- **Widget de informaÃ§Ãµes avanÃ§ado** com conteÃºdo completo, links clicÃ¡veis e sistema de cÃ³pia
- **ExtraÃ§Ã£o automÃ¡tica** de informaÃ§Ãµes completas do vÃ­deo
- **Sistema de histÃ³rico** completo com busca e filtros
- **ğŸ“Š ExportaÃ§Ã£o de dados** - Exporte histÃ³rico em CSV e PDF com filtros aplicados
- **ConfiguraÃ§Ãµes personalizÃ¡veis** (temas, resoluÃ§Ã£o padrÃ£o, auto-abertura)
- **Sistema de logs avanÃ§ado** com rotaÃ§Ã£o e compactaÃ§Ã£o automÃ¡tica
- **Suporte robusto** a fragmentos e downloads instÃ¡veis

### ğŸµ Download de Playlists
- **ğŸ¯ Suporte completo** - Detecta automaticamente URLs de playlists do YouTube
- **ğŸ“Š Progresso individual** - Acompanha o download de cada vÃ­deo separadamente
- **ğŸ“š HistÃ³rico automÃ¡tico** - Salva todos os vÃ­deos da playlist no histÃ³rico
- **ğŸ¬ Mini-player atualizado** - Exibe informaÃ§Ãµes do vÃ­deo atual sendo baixado
- **ğŸ› ï¸ RecuperaÃ§Ã£o de erros** - Continua o download mesmo se alguns vÃ­deos falharem
- **ğŸ“ OrganizaÃ§Ã£o inteligente** - Cria pastas especÃ­ficas para cada playlist

### ğŸ“º Widget de InformaÃ§Ãµes AvanÃ§ado
- **ğŸ“„ ConteÃºdo completo** - DescriÃ§Ãµes atÃ© 50.000 caracteres sem truncamento
- **ğŸ”— Links clicÃ¡veis** - URLs detectadas automaticamente e abertas no navegador
- **ğŸ“‹ Sistema de cÃ³pia** - SeleÃ§Ã£o livre, atalhos (Ctrl+C, Ctrl+A) e menu de contexto
- **ğŸ¨ FormataÃ§Ã£o inteligente** - DuraÃ§Ã£o, visualizaÃ§Ãµes e datas formatadas
- **âš¡ Interface otimizada** - Scrollbar fluida, cursores intuitivos e feedback visual

### ğŸ“Š ExportaÃ§Ã£o de Dados
- **ğŸ“„ Formato CSV** - CompatÃ­vel com Excel, Google Sheets e outras planilhas
- **ğŸ“‘ Formato PDF** - RelatÃ³rios profissionais em A4 com layout formatado
- **ğŸ” Filtros aplicados** - Exporta apenas dados que atendem aos filtros ativos
- **ğŸ“… InformaÃ§Ãµes contextuais** - Data de geraÃ§Ã£o e filtros aplicados incluÃ­dos
- **ğŸ“Š Dados completos** - Todos os campos do histÃ³rico (tÃ­tulo, URL, resoluÃ§Ã£o, etc.)
- **ğŸ’¾ SeleÃ§Ã£o de local** - Escolha onde salvar os arquivos exportados

### ğŸš€ Melhorias da VersÃ£o 2.1
- **Arquitetura modular** - CÃ³digo organizado em mÃ³dulos especializados
- **Mini-player de preview** - VisualizaÃ§Ã£o rica com thumbnail e metadados do vÃ­deo
- **Widget de informaÃ§Ãµes avanÃ§ado** - ConteÃºdo completo, links clicÃ¡veis e cÃ³pia de texto
- **Tratamento robusto de erros** - 10 retries por fragmento problemÃ¡tico
- **PersistÃªncia de configuraÃ§Ãµes** - Lembra Ãºltimo diretÃ³rio selecionado
- **Avisos de sucesso** - Feedback visual apÃ³s downloads
- **Performance otimizada** - Downloads mais estÃ¡veis e rÃ¡pidos
- **Manutenibilidade** - CÃ³digo limpo e bem documentado

### âœ¨ Novidades da VersÃ£o 2.1.4
- **ğŸ“Š ExportaÃ§Ã£o de dados implementada** - Exporte histÃ³rico em CSV e PDF
- **ğŸ” Filtros na exportaÃ§Ã£o** - Aplica filtros ativos (busca, resoluÃ§Ã£o, status, perÃ­odo)
- **ğŸ“‘ RelatÃ³rios profissionais** - PDFs formatados em A4 com cabeÃ§alho e rodapÃ©
- **ğŸ“„ Compatibilidade CSV** - Arquivos compatÃ­veis com Excel e Google Sheets
- **ğŸ’¾ SeleÃ§Ã£o de destino** - Escolha onde salvar os arquivos exportados
- **ğŸ“… InformaÃ§Ãµes contextuais** - Data de geraÃ§Ã£o e filtros aplicados incluÃ­dos
- **âš¡ Performance otimizada** - ExportaÃ§Ã£o eficiente de grandes volumes de dados

### âœ¨ Novidades da VersÃ£o 2.1.3
- **ğŸµ Download de playlists implementado** - Suporte completo a playlists do YouTube
- **ğŸ“Š Progresso individual por vÃ­deo** - Acompanhamento detalhado de cada item da playlist
- **ğŸ”§ CorreÃ§Ãµes crÃ­ticas no mini-player** - ExibiÃ§Ã£o correta de thumbnails e metadados
- **ğŸ“š HistÃ³rico de playlists** - Salvamento automÃ¡tico de todos os vÃ­deos baixados
- **ğŸ¯ Widget de informaÃ§Ãµes corrigido** - AtualizaÃ§Ã£o precisa durante downloads de playlist
- **âš¡ Performance otimizada** - Processamento mais eficiente de mÃºltiplos vÃ­deos
- **ğŸ› ï¸ Tratamento robusto de erros** - RecuperaÃ§Ã£o automÃ¡tica de falhas em playlists

## Requisitos

- Python 3.x
- FFmpeg (incluÃ­do no repositÃ³rio)
- Bibliotecas Python listadas em `requirements.txt`

## InstalaÃ§Ã£o

1. Clone o repositÃ³rio:
```bash
git clone [URL_DO_REPOSITORIO]
```

2. Instale as dependÃªncias:
```bash
pip install -r requirements.txt
```

3. Execute o instalador:
```bash
python install.py
```

## ğŸš€ Uso

### VersÃ£o Refatorada (Recomendada)
```bash
python yt_refactored.py
```

### VersÃ£o Original (Legado)
```bash
python yt.py
```

### ğŸ“‹ Como Usar

#### ğŸ¬ Download de VÃ­deo Individual
1. **Cole a URL** do vÃ­deo do YouTube
2. **Clique em "Extrair InformaÃ§Ãµes"** para ver detalhes do vÃ­deo
3. **Visualize o mini-player** com thumbnail, tÃ­tulo, duraÃ§Ã£o e canal do vÃ­deo
4. **Use o botÃ£o "ğŸ¬ Preview"** para abrir o vÃ­deo no navegador (opcional)
5. **Explore as informaÃ§Ãµes completas** do vÃ­deo:
   - **ğŸ“„ Leia a descriÃ§Ã£o completa** sem truncamento
   - **ğŸ”— Clique em links** para abrir no navegador
   - **ğŸ“‹ Selecione e copie** texto (Ctrl+C, Ctrl+A)
   - **ğŸ–±ï¸ Use o menu de contexto** (clique direito) para opÃ§Ãµes de cÃ³pia
6. **Escolha o tipo de download:**
   - **Para vÃ­deo:** Selecione a resoluÃ§Ã£o desejada
   - **Para Ã¡udio:** Marque "Baixar apenas Ã¡udio" e escolha a qualidade (128-320 kbps)
7. **Escolha o diretÃ³rio** de destino (serÃ¡ lembrado para prÃ³ximos downloads)
8. **Clique em "Baixar"** e aguarde a conclusÃ£o
9. **Receba confirmaÃ§Ã£o** visual quando o download terminar

#### ğŸµ Download de Playlist
1. **Cole a URL da playlist** do YouTube (ex: https://www.youtube.com/playlist?list=...)
2. **Clique em "Extrair InformaÃ§Ãµes"** para carregar a playlist
3. **Visualize as informaÃ§Ãµes** da playlist no widget de informaÃ§Ãµes
4. **Escolha o tipo de download** (vÃ­deo ou apenas Ã¡udio)
5. **Selecione o diretÃ³rio** de destino
6. **Clique em "Baixar Playlist"** para iniciar o processo
7. **Acompanhe o progresso** individual de cada vÃ­deo:
   - **ğŸ“Š Progresso por vÃ­deo** exibido no botÃ£o de download
   - **ğŸ¬ Mini-player atualizado** com o vÃ­deo atual
   - **ğŸ“š HistÃ³rico automÃ¡tico** de cada vÃ­deo baixado
8. **Aguarde a conclusÃ£o** de todos os vÃ­deos da playlist

#### ğŸµ Download de Playlist
1. **Cole a URL da playlist** do YouTube (ex: https://www.youtube.com/playlist?list=...)
2. **Clique em "Extrair InformaÃ§Ãµes"** para carregar a playlist
3. **Visualize as informaÃ§Ãµes** da playlist no widget de informaÃ§Ãµes
4. **Escolha as configuraÃ§Ãµes** de download (resoluÃ§Ã£o ou Ã¡udio)
5. **Selecione o diretÃ³rio** de destino
6. **Clique em "Baixar Playlist"** para iniciar o processo
7. **Acompanhe o progresso** individual de cada vÃ­deo:
   - **ğŸ“Š Progresso por vÃ­deo** exibido no botÃ£o de download
   - **ğŸ¬ Mini-player atualizado** com o vÃ­deo atual
   - **ğŸ“š HistÃ³rico automÃ¡tico** de cada vÃ­deo baixado
8. **Aguarde a conclusÃ£o** de todos os vÃ­deos da playlist

#### ğŸ“Š ExportaÃ§Ã£o de Dados
1. **Acesse a aba HistÃ³rico** onde estÃ£o listados seus downloads
2. **Aplique filtros** (opcional) para exportar apenas dados especÃ­ficos:
   - **ğŸ” Busca por texto** - Digite tÃ­tulo ou URL
   - **ğŸ“º ResoluÃ§Ã£o** - Selecione qualidade especÃ­fica
   - **ğŸ“Š Status** - Filtre por ConcluÃ­do, Erro, etc.
   - **ğŸ“… PerÃ­odo** - Escolha intervalo de datas
3. **Clique no botÃ£o de exportaÃ§Ã£o** desejado:
   - **ğŸ“Š Exportar CSV** - Para planilhas (Excel, Google Sheets)
   - **ğŸ“‘ Exportar PDF** - Para relatÃ³rios profissionais
4. **Escolha o local** onde salvar o arquivo
5. **Aguarde a confirmaÃ§Ã£o** de exportaÃ§Ã£o bem-sucedida
6. **Abra o arquivo** gerado para visualizar seus dados

**ğŸ’¡ Dica**: Os filtros aplicados na interface sÃ£o automaticamente incluÃ­dos na exportaÃ§Ã£o, permitindo relatÃ³rios personalizados.

## ğŸ“ Estrutura do Projeto

### ğŸ—ï¸ Arquitetura Modular (v2.1)
```
â”œâ”€â”€ yt_refactored.py         # ğŸ¯ Arquivo principal refatorado
â”œâ”€â”€ yt.py                    # ğŸ“œ VersÃ£o original (legado)
â”‚
â”œâ”€â”€ ğŸ§© MÃ“DULOS CORE
â”œâ”€â”€ ui_components.py         # ğŸ–¼ï¸ Interface grÃ¡fica e componentes
â”œâ”€â”€ download_manager.py      # â¬‡ï¸ Gerenciador de downloads
â”œâ”€â”€ config_manager.py        # âš™ï¸ Gerenciador de configuraÃ§Ãµes
â”œâ”€â”€ history_manager.py       # ğŸ“š Gerenciador de histÃ³rico
â”œâ”€â”€ log_manager.py          # ğŸ“ Sistema de logging avanÃ§ado
â”œâ”€â”€ utils.py                # ğŸ”§ UtilitÃ¡rios e constantes
â”‚
â”œâ”€â”€ ğŸ—„ï¸ BANCO DE DADOS
â”œâ”€â”€ database_manager.py      # ğŸ’¾ Gerenciador do banco SQLite
â”œâ”€â”€ database_schema.py       # ğŸ“‹ Schema e estrutura do BD
â”‚
â”œâ”€â”€ ğŸ› ï¸ INSTALAÃ‡ÃƒO E CONFIG
â”œâ”€â”€ install.py              # ğŸ“¦ Script de instalaÃ§Ã£o
â”œâ”€â”€ install.bat             # ğŸªŸ Instalador para Windows
â”œâ”€â”€ requirements.txt        # ğŸ“‹ DependÃªncias Python
â”‚
â”œâ”€â”€ ğŸ¬ FFMPEG BINÃRIOS
â”œâ”€â”€ ffmpeg.exe             # ğŸï¸ Conversor de vÃ­deo
â”œâ”€â”€ ffplay.exe             # â–¶ï¸ Player de mÃ­dia
â”œâ”€â”€ ffprobe.exe            # ğŸ” Analisador de mÃ­dia
â”‚
â”œâ”€â”€ ğŸ“Š LOGS E DADOS
â”œâ”€â”€ logs/                  # ğŸ“ DiretÃ³rio de logs rotativos
â”‚
â””â”€â”€ ğŸ“š DOCUMENTAÃ‡ÃƒO
    â””â”€â”€ docs/                      # ğŸ“– DocumentaÃ§Ã£o completa
        â”œâ”€â”€ Analise detalhada e sugestoes de melhorias.md
        â”œâ”€â”€ Plano de ImplementaÃ§Ã£o das Melhorias - Baixador de VÃ­deos YouTube.md
        â”œâ”€â”€ RelatÃ³rio de AnÃ¡lise Detalhada - Baixador de VÃ­deos do YouTube.md
        â”œâ”€â”€ SISTEMA_ROTACAO_LOGS.md
        â”œâ”€â”€ REFACTORING_GUIDE.md       # ğŸ”„ Guia da refatoraÃ§Ã£o
        â”œâ”€â”€ COMPARISON.md              # âš–ï¸ ComparaÃ§Ã£o antes/depois
        â”œâ”€â”€ BUG_FIXES.md              # ğŸ› CorreÃ§Ãµes implementadas
        â”œâ”€â”€ WINDOW_FIX.md             # ğŸªŸ CorreÃ§Ã£o janela extra
        â”œâ”€â”€ RESTORED_FEATURES.md       # âœ¨ Funcionalidades restauradas
        â”œâ”€â”€ AUDIO_DOWNLOAD_FEATURE.md  # ğŸµ Download de Ã¡udio
        â”œâ”€â”€ MINI_PLAYER_FEATURE.md     # ğŸ¬ Mini-player de preview
        â”œâ”€â”€ MINI_PLAYER_FIXES.md       # ğŸ”§ CorreÃ§Ãµes do mini-player
        â”œâ”€â”€ CRITICAL_FIXES_ANALYSIS.md # ğŸš¨ AnÃ¡lise de correÃ§Ãµes crÃ­ticas
        â”œâ”€â”€ VIDEO_INFO_WIDGET_IMPROVEMENTS.md # ğŸ“º Melhorias do widget de informaÃ§Ãµes
        â””â”€â”€ EXPORT_FEATURE.md          # ğŸ“Š Funcionalidade de exportaÃ§Ã£o de dados
```

### ğŸ¯ BenefÃ­cios da Nova Arquitetura
- **Modularidade**: Cada mÃ³dulo tem responsabilidade especÃ­fica
- **Manutenibilidade**: CÃ³digo organizado e fÃ¡cil de modificar
- **Testabilidade**: MÃ³dulos podem ser testados isoladamente
- **Escalabilidade**: FÃ¡cil adicionar novas funcionalidades
- **ReutilizaÃ§Ã£o**: Componentes podem ser reutilizados
- **Debugging**: Problemas sÃ£o mais fÃ¡ceis de localizar

## ğŸ”§ ConfiguraÃ§Ãµes AvanÃ§adas

### âš™ï¸ ParÃ¢metros de Download
- **Retries**: 10 tentativas por download
- **Fragment Retries**: 10 tentativas por fragmento
- **Socket Timeout**: 30 segundos
- **Chunk Size**: 10MB para downloads otimizados

### ğŸ“ Sistema de Logs
- **RotaÃ§Ã£o automÃ¡tica**: Logs sÃ£o compactados quando excedem 250MB
- **RetenÃ§Ã£o**: Logs antigos sÃ£o mantidos por 30 dias
- **CompactaÃ§Ã£o**: Arquivos sÃ£o compactados em formato 7z
- **LocalizaÃ§Ã£o**: Pasta `logs/` no diretÃ³rio da aplicaÃ§Ã£o

## ğŸ› ResoluÃ§Ã£o de Problemas

### â“ Problemas Comuns

**ETA: Unknown durante download**
- âœ… **Normal**: Sistema tenta automaticamente 10x por fragmento
- âœ… **Aguarde**: Geralmente resolve em 30-60 segundos
- âœ… **NÃ£o cancele**: Download continua mesmo com ETA unknown

**Janela extra aparecendo**
- âœ… **Corrigido**: VersÃ£o 2.1 eliminou janelas temporÃ¡rias visÃ­veis

**DiretÃ³rio nÃ£o Ã© lembrado**
- âœ… **Corrigido**: VersÃ£o 2.1 salva automaticamente Ãºltimo diretÃ³rio

**Sem aviso de sucesso**
- âœ… **Corrigido**: VersÃ£o 2.1 exibe confirmaÃ§Ã£o apÃ³s downloads

### ğŸ“‹ Logs de Debug
Para debug avanÃ§ado, consulte:
- `logs/app_YYYY-MM-DD.log` - Logs da aplicaÃ§Ã£o
- `logs/downloads_YYYY-MM-DD.log` - Logs especÃ­ficos de downloads

## ğŸ“Š EstatÃ­sticas de Performance

| MÃ©trica | VersÃ£o Original | VersÃ£o 2.1.4 Refatorada |
|---------|-----------------|-------------------------|
| **Linhas de CÃ³digo** | 1.842 (monÃ³lito) | 7 mÃ³dulos especializados |
| **Manutenibilidade** | â­â­ | â­â­â­â­â­ |
| **Taxa de Sucesso** | ~85% | **~98%** |
| **Tratamento de Erros** | BÃ¡sico | **Robusto (10 retries)** |
| **Funcionalidades** | VÃ­deos individuais | **VÃ­deos + Playlists completas** |
| **Widget de InformaÃ§Ãµes** | Limitado (500 chars) | **Completo (50.000 chars)** |
| **Interatividade** | âŒ BÃ¡sica | **âœ… AvanÃ§ada (links, cÃ³pia)** |
| **Suporte a Playlists** | âŒ NÃ£o disponÃ­vel | **âœ… Completo com progresso** |
| **Mini-player** | âŒ BÃ¡sico | **âœ… Thumbnails e metadados** |
| **HistÃ³rico** | âš ï¸ Limitado | **âœ… AutomÃ¡tico para playlists** |
| **ExportaÃ§Ã£o de Dados** | âŒ NÃ£o disponÃ­vel | **âœ… CSV e PDF com filtros** |
| **ExperiÃªncia do UsuÃ¡rio** | â­â­â­ | **â­â­â­â­â­** |

## ğŸ¤ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o muito bem-vindas! 

### ğŸ“‹ Como Contribuir
1. **Fork** o repositÃ³rio
2. **Crie** uma branch para sua feature (`git checkout -b feature/nova-funcionalidade`)
3. **Commit** suas mudanÃ§as (`git commit -am 'Adiciona nova funcionalidade'`)
4. **Push** para a branch (`git push origin feature/nova-funcionalidade`)
5. **Abra** um Pull Request

### ğŸ¯ Ãreas de ContribuiÃ§Ã£o
- ğŸ› **Bug fixes** e melhorias de estabilidade
- âœ¨ **Novas funcionalidades** (playlist downloads, etc.)
- ğŸ¨ **Melhorias de UI/UX**
- ğŸ“š **DocumentaÃ§Ã£o** e tutoriais
- ğŸ§ª **Testes** automatizados
- ğŸŒ **InternacionalizaÃ§Ã£o** (i18n)

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a **LicenÃ§a MIT** - veja o arquivo [LICENSE](LICENSE) para detalhes completos.

## ğŸ‘¨â€ğŸ’» Desenvolvimento

### ğŸ—ï¸ VersÃ£o 2.1.4 - ExportaÃ§Ã£o de Dados
- **Arquitetura**: TransformaÃ§Ã£o de monÃ³lito em mÃ³dulos especializados
- **Qualidade**: CÃ³digo limpo, documentado e testado
- **Performance**: OtimizaÃ§Ãµes significativas de estabilidade
- **Funcionalidades**: 100% mantidas + playlists + exportaÃ§Ã£o de dados
- **ExportaÃ§Ã£o**: CSV e PDF com filtros avanÃ§ados aplicados
- **RelatÃ³rios**: Formato profissional A4 com informaÃ§Ãµes contextuais
- **IntegraÃ§Ã£o**: Compatibilidade com Excel, Google Sheets e sistemas externos
- **ExperiÃªncia do UsuÃ¡rio**: Interface moderna e intuitiva com anÃ¡lise de dados

### ğŸ“ˆ Roadmap Futuro
- ğŸŒ **Interface web** opcional
- ğŸ“± **VersÃ£o mobile** (Kivy/BeeWare)
- ğŸ¤– **API REST** para integraÃ§Ã£o
- ğŸ§ª **Testes automatizados** completos
- ğŸ”„ **SincronizaÃ§Ã£o em nuvem** de configuraÃ§Ãµes

---

**Desenvolvido com â¤ï¸ e Python** | **VersÃ£o 2.1.4 - ExportaÃ§Ã£o de Dados** | **2024**